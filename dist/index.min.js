const e=e=>Array.isArray(e),r=e=>(e=>null===e)(e)||n(e),t=e=>"string"==typeof e,n=e=>void 0===e,i=e=>o(e)&&"[object RegExp]"===s(e),o=e=>"object"==typeof e&&null!==e,c=e=>o(e)&&"[object Date]"===s(e),u=e=>e instanceof Buffer,s=e=>Object.prototype.toString.call(e).slice(8,-1),l=/\[["']|^\s*["']/,a=/["']\]|["']\s*$/,f=/^(["'])(.*)\1$/;function p(e){let r;return e=e||".",function(t){if(r){if(r+=e+t,!a.test(t))return;t=r,r=""}else if(l.test(t)){if(r=t,!a.test(t))return;r=""}return t.trim().replace(f,"$2")}}function y(e){let r;return t(e)&&(r=[],e.split(".").map(p(".")).forEach((function(e){(e=(e||" ").trim().replace(/^([^[]+)\[(["']?)(.+)\2\]$/,(function(e,t,n,i){return t&&i&&r.push(t,i),""})))&&r.push(e)})),e=r),e}function g(r){const n={};return t(r)&&(r=r.split(",").map(p(",")).filter((e=>e))),e(r)?(r.forEach((e=>n[e]=1)),n):{}}function h(e,t){if(e===t)return!0;if(u(e)&&u(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return c(e)&&c(t)?e.getTime()===t.getTime():i(e)&&i(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:o(e)||o(t)?function(e,t){var n,i,o,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;var u=d(e),s=d(t);if(u&&!s||!u&&s)return!1;if(u)return h(e=Array.prototype.slice.call(e),t=Array.prototype.slice.call(t));try{n=Object.keys(e),i=Object.keys(t)}catch(e){return!1}if(n.length!=i.length)return!1;for(n.sort(),i.sort(),c=n.length-1;c>=0;c--)if(n[c]!=i[c])return!1;for(c=n.length-1;c>=0;c--)if(!h(e[o=n[c]],t[o]))return!1;return!0}(e,t):e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function b(e,...r){return O({},e,...r)}function O(e,r,...t){const n={...e,_visited:[]};return t.reduce(((e,r)=>A(n,e,r)),r)}function A(r,t,n){let i,c,u,l,a;if(r._visited||(r._visited=[]),t===n||void 0===n)return t;if(null===n)return r.ignoreNull&&void 0!==t||(t=n),t;if(null==t)return A(r,e(n)?[]:{},n);const f=s(n);switch(f){case"RegExp":return new RegExp(n,n.flags);case"Date":return new Date(n);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return globalThis[f].from(n);case"ArrayBuffer":case"SharedArrayBuffer":return new globalThis[f](n);case"Map":if(t instanceof Map)for(a of n.keys())(t=new Map(t)).set(a,b(t.get(a),n.get(a)));else t=new Map(n);return t;case"Set":return t=(e=>e instanceof Set)(t)?new Set(t).union(n):new Set(n),t;case"Error":const s=new Error(n.message);return Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)),s;case"Function":{const e=function(...e){return n(...e)};return Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)),e}case"Array":if(e(t)){const e=[...t];for(i=0;i<n.length;i++)if(u=n[i],!~e.indexOf(u))if(o(u)&&null!==u){for(l=!1,c=e.length;c-- >0&&!(l=h(e[c],u)););l||t.push(A(r,null,u))}else t.push(u)}else t=A(r,[],n);return t;case"Object":if(!o(t)&&!(e=>"function"==typeof e)(t))return n;if(~r._visited.indexOf(n)){if(!r.ignoreCircular)throw new Error("can not merge circular structures.")}else{for(a in r._visited.push(n),n)j(t,a)||(t[a]=A(r,t[a],n[a]));r._visited.pop()}return t;default:return n}}const j=(e,r)=>r in e&&(!Object.hasOwnProperty.call(e,r)||!Object.propertyIsEnumerable.call(e,r)),w=r=>A({},e(r)?[]:{},r);function v(e,r,t){let n,i,o=e||{};if(!(r=y(r))||0===r.length)return t;for(n=0;n<r.length;n++){if(i=r[n],!o||!Object.prototype.hasOwnProperty.call(o,i))return t;o=o[i]}return o}const m=e=>x({_visited:[]},e);function x(e,r){let t;if(o(r)){if(~e._visited.indexOf(r))return!0;for(t in e._visited.push(r),r)if(Object.prototype.hasOwnProperty.call(r,t)&&x(e,r[t]))return!0}return!1}function E(e,r,t){let n,i,o=e||{};const c=y(r);if(!c||0===c.length)return;const u=c.pop();for(n=0;n<c.length;n++)i=c[n],o[i]||(o[i]={}),Object.prototype.hasOwnProperty.call(o,i)&&(o=o[i]);return null===t?delete o[u]:o[u]=t,e}function _(e,r){let t,n;const i=g(r);if(o(e))for(t in n=w(e),i)v(e,t)&&E(n,t,null);return n}function P(e,r){let t,n,i;const c=g(r);if(o(e))for(t in i={},c)n=v(e,t),null!=n&&E(i,t,n);return i}export{w as clone,h as deepEqual,v as get,m as isCircular,b as merge,O as mergeExt,_ as omit,P as pick,E as set};
